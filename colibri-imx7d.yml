header:
  version: 11

distro: poky

defaults:
  repos:
    refspec: master

repos:
  poky:
    url: https://git.yoctoproject.org/git/poky
    refspec: kirkstone
    layers:
      meta:
      meta-poky:

  meta-zephyr:
    url: https://git.yoctoproject.org/git/meta-zephyr
    refspec: kirkstone
    layers:
      meta-zephyr-core:
      meta-zephyr-bsp:

  meta-openembedded:
    url: https://git.openembedded.org/meta-openembedded
    refspec: kirkstone
    layers:
      meta-oe:
      meta-python:

  meta-mender:
    url: https://github.com/mendersoftware/meta-mender.git
    refspec: master-next
    layers:
      meta-mender-core:

  meta-mender-community:
    url: https://github.com/mendersoftware/meta-mender-community.git
    refspec: kirkstone-next
    layers:
      meta-mender-toradex-nxp:

  meta-freescale:
    url: https://github.com/Freescale/meta-freescale.git
    refspec: kirkstone

  meta-freescale-3rdparty:
    url: https://github.com/Freescale/meta-freescale-3rdparty.git
    refspec: kirkstone

  meta-toradex-bsp-common:
    url: https://git.toradex.com/meta-toradex-bsp-common.git
    refspec: master

  meta-toradex-nxp:
    url: https://git.toradex.com/meta-toradex-nxp.git
    refspec: master
  
  meta-zirconium:

local_conf_header:
  base: |
    CONF_VERSION = "2"
    PACKAGE_CLASSES = "package_ipk"
    INIT_MANAGER = "systemd"
    ACCEPT_FSL_EULA = "1" 
  
  tmp: |
    TMPDIR = "${TOPDIR}/tmp-colibri-imx7d"
  
  mender: |
    MENDER_EFI_LOADER = "u-boot"

  multiconfig_m4: |
    BBMULTICONFIG = "zephyr-m4"

  toradex: |
    include conf/machine/include/colibri-imx7-emmc.inc

target:
  - zirconium-image

machine: colibri-imx7-emmc